<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
  <meta charset="UTF-8" />
  <title>Kryptyk Labs — Asset Profile</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Kryptyk Labs — asset profile and clearance dossier." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=DM+Mono:wght@300;400;500&display=swap"
    rel="stylesheet" />

  <!-- Shared styles -->
  <link rel="stylesheet" href="assets/css/reset.css" />
  <link rel="stylesheet" href="assets/css/styles.css" />
  <link rel="stylesheet" href="assets/css/profile.css" />
</head>

<body class="kl-profile-page">
  <div class="kl-app-shell">
    <!-- Top bar -->
    <header class="kl-app-header">
      <div class="kl-app-brand">
        <div class="kl-app-logo-mark">
          <img src="img/logo-mark.png" alt="Kryptyk Labs" />
        </div>
        <div class="kl-app-title-block">
          <div class="kl-app-title">KRYPTYK LABS</div>
          <div class="kl-app-subtitle">ASSET DOSSIER</div>
        </div>
      </div>

      <div class="kl-app-meta">
        <!-- These pills are controlled by profile.js -->
        <span id="kl-profile-email-pill" class="kl-pill">asset: —</span>
        <span id="kl-profile-clearance-pill" class="kl-pill kl-pill-muted">
          clearance: —
        </span>

        <a href="login.html" class="kl-btn kl-btn-ghost kl-btn-xs">
          ORIENTATION
        </a>
        <a href="archive.html" class="kl-btn kl-btn-ghost kl-btn-xs">
          ARCHIVE
        </a>
        <!-- NOTE: id matches profile.js (kl-logout-btn) -->
        <button id="kl-logout-btn" class="kl-btn kl-btn-ghost kl-btn-xs">
          LOG OUT
        </button>
      </div>
    </header>

    <!-- Main content -->
    <main class="kl-app-main">
      <!-- LEFT: Profile summary + motto -->
      <section class="kl-panel">
        <div class="kl-panel-header">
          <span class="kl-panel-label">Asset</span>
          <h2 class="kl-panel-title">Clearance Profile</h2>
        </div>

        <!-- Top-level error banner -->
        <div id="kl-profile-error" class="kl-form-error kl-profile-error-banner"></div>

        <div class="kl-panel-body">
          <p class="kl-panel-text">
            This dossier reflects the current state of your asset record as held
            inside Kryptyk Labs. Some fields may be redacted depending on your tier.
          </p>

          <ul class="kl-panel-list">
            <li>
              <strong>Asset Email:</strong>
              <span id="kl-profile-email">—</span>
            </li>
            <li>
              <strong>Display Name:</strong>
              <span id="kl-profile-name">Asset</span>
            </li>
            <li>
              <strong>Clearance Level:</strong>
              <span id="kl-profile-clearance">INITIATED</span>
            </li>
            <li>
              <strong>Asset Badge ID:</strong>
              <span id="kl-profile-badge-id">KRY-0000-0000</span>
            </li>
          </ul>
          <!-- Display Name block -->
          <div class="kl-profile-card">
            <div class="kl-profile-card-label">
              Display Name
            </div>
            <div id="kl-display-name-helper" class="kl-profile-card-helper">
              Choose how the lab should address this asset in briefings and
              logs.
            </div>
            <form id="kl-display-name-form" class="kl-form-row">
              <input id="kl-display-name-input" type="text" class="kl-input" maxlength="40" autocomplete="off"
                placeholder="eg. SIGNAL GHOST" />
              <button type="submit" class="kl-btn kl-btn-xs">
                SAVE NAME
              </button>
            </form>
            <div id="kl-display-name-error" class="kl-form-error kl-profile-inline-error"></div>
          </div>
          <!-- Motto block -->
          <div class="kl-profile-card">
            <div class="kl-profile-card-label">
              Field Motto
            </div>
            <div id="kl-profile-motto-display" class="kl-profile-motto-display">
              No field motto set. The lab is listening…
            </div>

            <form id="kl-motto-form" class="kl-form kl-profile-motto-form">
              <label for="kl-motto-input" class="kl-label kl-profile-motto-label">
                Update Motto
              </label>
              <input id="kl-motto-input" type="text" class="kl-input" placeholder="eg. THERE IS PATTERN IN THE NOISE" />
              <button type="submit" class="kl-btn kl-btn-xs">
                SAVE MOTTO
              </button>
              <div id="kl-motto-error" class="kl-form-error kl-profile-inline-error"></div>
            </form>
          </div>

          <!-- Notepad block (local-only) -->
          <div class="kl-profile-card">
            <div class="kl-profile-card-label">
              Notepad
            </div>
            <div class="kl-profile-card-helper">
              Personal notes stored locally on this device.
            </div>

            <form id="kl-notepad-form" class="kl-form kl-profile-notepad-form">
              <label for="kl-notepad-input" class="kl-label">
                Notes
              </label>
              <textarea id="kl-notepad-input" class="kl-input kl-profile-notepad" rows="8"
                placeholder="Write notes here…"></textarea>
              <button type="submit" class="kl-btn kl-btn-xs">
                SAVE NOTES
              </button>
              <div id="kl-notepad-status" class="kl-form-hint"></div>
            </form>
          </div>
        </div>
      </section>

      <!-- RIGHT: Timeline, clearance progress, logs, controls -->
      <section class="kl-panel kl-panel-stack">
        <!-- Timeline -->
        <div class="kl-subpanel">
          <div class="kl-subpanel-header">
            <span class="kl-subpanel-tag">Timeline</span>
            <h3 class="kl-subpanel-title">Access History</h3>
          </div>
          <p class="kl-subpanel-text">
            Key timestamps for this asset. Use these to correlate with gate logs
            or anomalous signal events.
          </p>
          <ul class="kl-panel-list">
            <li>
              <strong>Profile Created:</strong>
              <span id="kl-profile-created">—</span>
            </li>
            <li>
              <strong>Last Login:</strong>
              <span id="kl-profile-last-login">—</span>
            </li>
          </ul>
        </div>

        <!-- Clearance progress -->
        <div class="kl-subpanel">
          <div class="kl-subpanel-header">
            <span class="kl-subpanel-tag">Clearance</span>
            <h3 class="kl-subpanel-title">Tier Progress</h3>
          </div>
          <p class="kl-subpanel-text">
            Approximate progression toward your next clearance threshold, based
            on lab activity and mission performance indices.
          </p>

          <div class="kl-clearance-progress-track">
            <div id="kl-clearance-progress" class="kl-clearance-progress-bar"></div>
          </div>
          <div id="kl-clearance-progress-label" class="kl-clearance-progress-label">
            5%
          </div>
        </div>

        <!-- Event log -->
        <div class="kl-subpanel kl-subpanel-log">
          <div class="kl-subpanel-header">
            <span class="kl-subpanel-tag">Events</span>
            <h3 class="kl-subpanel-title">Asset Log Stream</h3>
          </div>
          <p class="kl-subpanel-text">
            Recent events involving this asset. High-signal anomalies will be
            mirrored to the main gate logs.
          </p>
          <div id="kl-profile-logs" class="kl-log-window kl-profile-logs">
            <!-- Filled by profile.js -->
          </div>
        </div>

        <!-- Session controls -->
        <div class="kl-subpanel">
          <div class="kl-subpanel-header">
            <span class="kl-subpanel-tag">Controls</span>
            <h3 class="kl-subpanel-title">Session Options</h3>
          </div>
          <p class="kl-subpanel-text">
            From here you can exit your active session or return to the orientation console.
          </p>
          <div class="kl-profile-controls-row">
            <a href="login.html" class="kl-btn kl-btn-ghost kl-btn-xs">
              Return to Orientation
            </a>
            <button id="kl-profile-logout-btn-duplicate" class="kl-btn kl-btn-xs">
              Log Out Completely
            </button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="assets/js/profile.js"></script>
</body>

</html>